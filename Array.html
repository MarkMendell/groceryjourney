<!doctype html>
<meta charset="utf-8">
<style>
body { font-family: sans-serif; }
.code { font-family: monospace; }
.italic { font-style: italic; }
li { margin: 10px 0; }
pre { tab-size: 2; }
</style>
<script src="https://livejs.com/live.js"></script>

<h1>Setup</h1>
Save <a download="Array-exercise.html" href="Array-exercise.html">this file</a> to a folder.
<br>Open Terminal.
<br>Type <span class="code">cd</span>, <span class="italic">space</span>, drag+drop that folder onto the terminal window, <span class="italic">enter</span>.
<br>Type <span class="code">python3 -m http.server 8105</span><button class="copy">ðŸ“‹</button>, <span class="italic">enter</span>.
<br>Open <a href="http://localhost:8105/Array-exercise.html" target="blank">localhost:8105/Array-exercise.html</a>.
<br>Press <span class="code">âŒ˜âŒ¥I</span>.
<br>Under 'Network', make sure 'Disable cache' is checked.
<br>Click 'Console'.

<h1>Lesson</h1>
<span class="code">[1, "hi", 42]</span> is an array.
<p><span class="code">arr[0]</span> gets the first entry, <span class="code">arr[1]</span> the second, etc.
<p>You can change entries in a <span class="code">const</span> array.
<p><span class="code">.length</span> gives you its length.
<p><span class="code">for (let i=0; i&lt;arr.length; i++) {â€¦}</span> will run the <span class="code">â€¦</span> code with <span class="code">i</span> set as each possible index into <span class="code">arr</span>.

<h1>Exercises</h1>
<ol>
	<li>
		What is <span class="code">nums.length</span>?
	</li>
	<li>
		Make a list of 3 colors and log it.
	</li>
	<li>
		Log each number of <span class="code">nums</span>.
	</li>
	<li>
		Calculate the sum of the numbers in <span class="code">nums</span> using a for loop, then log it.
	</li>
	<li>
		Change the <span class="code">9</span> in <span class="code">nums</span> to a <span class="code">7</span>, then log <span class="code">nums</span>.
	</li>
	<li>
		Write a function <span class="code">getAverage</span> which returns the average of all the numbers in an array.
		<br>Log <span class="code">getAverage(nums)</span>.
		<br>Log <span class="code">getAverage([1, 2, 3, 4, 5, 6])</span><button class="copy">ðŸ“‹</button>.
	</li>
</ol>
<button id="showanswers">Show answers</button>
<div id="answers" style="display:none">
	<pre
>nums.length == 4;

const colors = ['red', 'blue', 'green'];
console.log(colors);

for (let i=0; i&lt;nums.length; i++) {
	console.log(nums[i]);
}

let sum = 0;
for (let i=0; i&lt;nums.length; i++) {
	sum += nums[i];
}
console.log(sum);

nums[2] = 7;
console.log(nums);

function getAverage(arr) {
	let sum = 0;
	for (let i=0; i&lt;arr.length; i++) {
		sum += arr[i];
	}
	return sum / arr.length;
}
console.log(getAverage(nums));
console.log(getAverage([1, 2, 3, 4, 5, 6]));</pre
	>
</div>

<script>
/* Return a new element with the provided properties set. */
function E(tag, props) {
	const e = document.createElement(tag);
	Object.keys(props||{}).forEach(k => {
		const v = props[k];
		if (v instanceof Object) {
			e[k] = {};
			Object.keys(v).forEach(k2 => {
				e[k][k2] = v[k2];
			});
		} else e[k] = v;
	});
	return e;
}

/* Array.from */
function Arrayfrom(l) {
	const arr = [];
	for (let i=0; i<l.length; i++) arr.push(l[i]);
	return arr;
}

/* .copy puts the preceding .code on the clipboard. */
Arrayfrom(document.querySelectorAll('.copy')).forEach(btn => {
	const s = btn.previousElementSibling.textContent;
	btn.addEventListener('click', () => {
		const eTmp = E('textarea', {style:{top:0,position:'fixed'}, textContent: s});
		document.body.appendChild(eTmp);
		eTmp.focus();
		eTmp.select();
		document.execCommand('copy');
		document.body.removeChild(eTmp);
	});
});

/* Toggle answers */
showanswers.addEventListener('click', () => {
	if (answers.style.display) {
		answers.style.display = '';
		showanswers.textContent = 'Hide answers';
		window.scroll(0, document.body.clientHeight);
	} else {
		answers.style.display = 'none';
		showanswers.textContent = 'Show answers';
	}
});
</script>
